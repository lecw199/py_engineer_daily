# 设计模式之桥接模式

* 说明

将事物的多个纬度单独分离出来实现，也就是将系统抽象与功能实现分离开来，实现解耦


* 案例 -- 用笔画画

例如我们可以用各色各样的笔画各种形状

定义笔对象， 圆珠笔，钢笔，毛笔，彩笔继承于笔
定义颜色对象， 红色，黑色，白色继承自颜色对象

笔需要做的事情，选中颜色，然后画形状
在笔对象里定义这两个抽象方法，set_color, draw

把draw方法的具体实现放到color对象的paint方法里，draw方法调用color的paint方法画画
这样，笔只是定义了接口，具体实现就都拆分到color对象里了，从而实现了解耦


```python
from abc import ABCMeta,abstractmethod
from dataclasses import dataclass

# 抽象类
@dataclass
class Pen(metaclass=ABCMeta):
    name: str
    shape: str
        
    @abstractmethod
    def draw(self):
        pass
    
    def set_color(self, color):
        self.color = color
    
# 具体抽象类
class BallPointPen(Pen):
    def __init__(self, shape):
        name = "ball-point pen"
        super().__init__(name, shape)
        
    def draw(self):
        # TODO: 更换笔芯
        self.color.paint(self)
    
class Pencil(Pen):
    def __init__(self, shape):
        name = "pencil"
        super().__init__(name, shape)
        
    def draw(self):
        # TODO: 削铅笔
        self.color.paint(self)
        

@dataclass
class Color(metaclass=ABCMeta):
    name: str
    
    @abstractmethod
    def paint(self, pen: Pen):
        # 背景色
        pass
    
    
class Red(Color):
    def paint(self, pen: Pen):
        print("use {pen} paint a {color} {shape}".format(pen=pen.name, color=self.name, shape=pen.shape))
        
# client 
ball_pen = BallPointPen("rectangle")
red = Red("red")
ball_pen.set_color(red)
ball_pen.draw()

```

    use ball-point pen paint a red rectangle



